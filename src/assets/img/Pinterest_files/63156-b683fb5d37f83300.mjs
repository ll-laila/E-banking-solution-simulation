"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63156],{705533:(e,l,n)=>{var a;n.r(l),n.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="06530ceab8fc1bb7b5d868c8ffeb2afd";let i=t},642965:(e,l,n)=>{var a,t;n.r(l),n.d(l,{default:()=>s});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ObscuredOverlay_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},t={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[a,t,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="597f0ecd8ffd1b32bed62fef4be895f4";let s=i},261526:(e,l,n)=>{var a;n.r(l),n.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCanPerformAction_board",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],type:"Board",abstractKey:null};t.hash="416539a057718ff36ac5d9d06916c2d4";let i=t},494262:(e,l,n)=>{var a;n.r(l),n.d(l,{default:()=>i});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetFeedbackType_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="09058e2c22f768d113516b357e48e9cd";let i=t},496669:(e,l,n)=>{n.d(l,{Z:()=>u});var a=n(667294),t=n(702664),i=n(883119),s=n(140017),r=n(923368),o=n(785893);function d({isCloseupButton:e,isDisabled:l,isFavorited:n,onTap:a,size:t}){let d=(0,s.ZP)(),{stackedCloseupEnabled:c}=(0,r.x4)();return e?(0,o.jsx)(i.hU,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),bgColor:c?"white":void 0,disabled:l,icon:n?"star":"star-outline",iconColor:"darkGray",onClick:a,size:"lg"}):(0,o.jsx)(i.iP,{disabled:l,onTap:a,children:(0,o.jsx)(i.JO,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",icon:n?"star":"star-outline",size:t})})}var c=n(107366);function u({favorited:e,favoriteCount:l,isCloseupButton:n,onFavorite:r,onUnfavorite:u,pinId:_,size:h}){let g=(0,s.ZP)(),p=(0,t.useDispatch)(),[y,m]=(0,a.useState)(!1),[f,x]=(0,a.useState)(e),[b,v]=(0,a.useState)(l??0),k=async()=>{(x(!f),m(!0),f)?(v(b-1),await p(async e=>{await (0,c.Z)({url:`/v3/pins/${_}/favorite/`,method:"DELETE"}),e({type:"PIN_FAVORITE",payload:{id:_,increment:-1,value:!1}})}),u()):(v(b+1),await p(async e=>{await (0,c.Z)({url:`/v3/pins/${_}/favorite/`,method:"POST"}),e({type:"PIN_FAVORITE",payload:{id:_,increment:1,value:!0}})}),r()),m(!1)},P=b<10?b:g._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,o.jsxs)(i.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==l&&b>0&&(0,o.jsx)(i.xv,{size:"200",weight:"bold",children:P}),(0,o.jsx)(d,{isCloseupButton:n,isDisabled:y,isFavorited:f,onTap:()=>{k()},size:h})]})}},343902:(e,l,n)=>{n.d(l,{N:()=>s,Z:()=>i});var a=n(883119),t=n(785893);function i({children:e,fullWidth:l}){return(0,t.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:l?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function s({children:e,enabled:l}){return l?(0,t.jsx)(i,{children:e}):e}},551539:(e,l,n)=>{n.d(l,{Z:()=>a});function a(e,l){return e.isAuth&&l===e.id}},367106:(e,l,n)=>{n.d(l,{Z:()=>a});function a(e,l){return!!(l.isAuth&&e)}},580716:(e,l,n)=>{n.d(l,{Z:()=>i});var a=n(551539),t=n(367106);function i(e,l,n){return(0,a.Z)(n,l)||(0,t.Z)(e,n)}},849118:(e,l,n)=>{n.d(l,{P:()=>o,Z:()=>c});var a,t=n(667294);n(167912);var i=n(551539),s=n(367106),r=n(207012);let o=e=>{let{action:l,viewer:n,board:a}=e;return!!a&&((0,i.Z)(n,a.owner?.entityId)||(0,s.Z)(a.collaboratedByMe,n)&&!!a.collaboratorPermissions?.includes(l))},d=void 0!==a?a:a=n(261526);function c({boardKey:e}){let l=(0,r.Z)(d,e),n=l?.owner?.entityId??"",a=(0,t.useMemo)(()=>l?.collaboratorPermissions,[l?.entityId]),i=(0,t.useCallback)(({action:e,viewer:t})=>o({action:e,viewer:t,board:{collaboratedByMe:l?.collaboratedByMe,collaboratorPermissions:a,owner:n?{entityId:n}:null}}),[l?.collaboratedByMe,a,n]);return{canPerformAction:i}}},67288:(e,l,n)=>{n.d(l,{P:()=>i,Z:()=>t});var a=n(702664);function t(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function i(){let e=(0,a.useSelector)(({experiences:e})=>e);return!!e&&t(e)}},588664:(e,l,n)=>{n.d(l,{Z:()=>a});function a(e,l,n=28){let a;if(!(e||{}).resurrection_info&&!(l||{}).resurrectionInfo)return!1;a=l?((l||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let t=new Date,i=a?new Date(a):t;return i.setDate(i.getDate()+n),new Date().getTime()<i.getTime()}},650059:(e,l,n)=>{n.d(l,{G7:()=>d,Nl:()=>u,WE:()=>o,l6:()=>c,rh:()=>r});var a=n(481177),t=n(135839),i=n(427514);let s=e=>e.checkExperiment("web_ps4p").anyEnabled;function r(e,l,n,t,i){if(!l.isAuth)return!1;let{creatorAnalytics:r}=e,o=!!e.storyPinDataId,d=!!e.videos?.videoList,c=(i||!(o||d))&&0!==Object.keys(e.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,u=e.board?.privacy===a.Z.BoardPrivacy.PUBLIC,_=e.board?.privacy===a.Z.BoardPrivacy.PROTECTED,h=(_||u)&&!e.isRepin&&[l.id,t].includes(e.pinner?.entityId);return c||0!==Object.keys(r?._30dRealtime||{}).length||l.isPartner&&h||s(n)&&o&&h}function o(e,l,n,a,t,i){return e.isAuth&&!!l&&(n||a)&&!!t?.isLoaded&&!i}function d(e,l){return(0,i.Z)(l.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function c(e,l){return(0,i.Z)(l.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function u({i18n:e,isRealtime:l,humanizedTimeSinceLastUpdate:n,displayLifetime:a,numDays:s,selectedDateRange:r,locale:o}){let d=[];if(s){let l=a?(0,i.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', s, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:s,startDate:(0,t.Z)(o,r.startDate,t.k.NUMERIC),endDate:(0,t.Z)(o,r.endDate,t.k.NUMERIC)}):(0,i.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', s, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:s});d.push(l)}return l?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):n&&d.push((0,i.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:n})),d.join(" ")}},649817:(e,l,n)=>{n.d(l,{GZ:()=>a,OE:()=>t,zX:()=>i});let a=246,t=197,i=236},361747:(e,l,n)=>{n.d(l,{Z:()=>s});var a=n(883119),t=n(140017),i=n(785893);function s({height:e,isDenseView:l,rounding:n,width:s,color:r}){let o=(0,t.ZP)();return(0,i.jsx)(a.xu,{alignItems:"center",color:r||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:n,width:s,children:(0,i.jsxs)(a.kC,{alignItems:"center",direction:"column",children:[(0,i.jsx)(a.xu,{paddingY:l?2:4,children:(0,i.jsx)(a.JO,{accessibilityLabel:o._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,i.jsx)(a.xv,{weight:"bold",children:o._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!l&&(0,i.jsx)(a.xu,{paddingY:1,children:(0,i.jsx)(a.xv,{children:o._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},259239:(e,l,n)=>{n.d(l,{Z:()=>i});var a=n(883119),t=n(785893);function i({children:e,additionalStyles:l={}}){return(0,t.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...l}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},156032:(e,l,n)=>{n.d(l,{Z:()=>j});var a,t=n(667294);n(167912);var i=n(616550),s=n(883119),r=n(510989),o=n(207012),d=n(343902),c=n(608516),u=n(477458),_=n(149722),h=n(785893);let g=({signal:e,anchor:l,setShowFlyout:n,setStore:a})=>{let{hovered:t,onMouseEnter:i,onMouseLeave:r}=(0,u.Z)(),o=e=>{n(e=>!e),a(e)};return(0,h.jsx)(s.iP,{onMouseEnter:i,onMouseLeave:r,onTap:()=>o(e),rounding:"pill",children:(0,h.jsxs)(s.xu,{ref:l,alignItems:"center",color:t?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,minWidth:24,rounding:"circle",children:(0,h.jsx)(s.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(s.Ee,{alt:"",color:e.backgroundColor??"",naturalHeight:1,naturalWidth:1,src:e.iconUrl??""})})}),(0,h.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:e.signalMessage})]})})};var p=n(107366),y=n(140017),m=n(13848),f=n(454514);function x(e){let l=(0,y.ZP)(),{onHide:n}=e,a=(0,h.jsx)(s.xv,{children:l._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,h.jsx)(f.ZP,{onHide:n,text:a})}let b=function({anchor:e,onDismiss:l,pinId:n,signal:a}){let t=(0,y.ZP)(),i=(0,_.Z)(),{showOneToast:r}=(0,m.F9)();if(!i.isEmployee)return null;let{backgroundColor:o,iconUrl:d,signalId:c,signalMessage:u}=a;return(0,h.jsx)(s.mh,{children:(0,h.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:l,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(s.xu,{padding:4,width:"100%",children:[(0,h.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(s.X6,{size:"400",children:t._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(s.xu,{paddingY:3,children:(0,h.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,h.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:d?(0,h.jsx)(s.Ee,{alt:t._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:d}):(0,h.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:o??""}},height:40,width:40})}),(0,h.jsx)(s.xv,{size:"200",children:u})]})}),(0,h.jsx)(s.xu,{marginBottom:3,children:(0,h.jsx)(s.xv,{size:"200",children:t._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(s.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,p.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:c,user:i.id}}),l(),r(({hideToast:e})=>(0,h.jsx)(x,{onHide:e}))},size:"md",text:t._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(s.zx,{color:"gray",fullWidth:!0,onClick:l,size:"md",text:t._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function v({signals:e,pinId:l}){let[n,a]=(0,t.useState)(!1),i=(0,t.useRef)(null),[o,u]=(0,t.useState)(e[0]);return(0,h.jsxs)(t.Fragment,{children:[(0,h.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",children:e.map(e=>(0,h.jsx)(s.xu,{marginEnd:2,children:(0,h.jsx)(g,{anchor:i,setShowFlyout:a,setStore:u,signal:e})},e.signalId))})})})})}),n&&(0,h.jsx)(b,{anchor:i.current,onDismiss:()=>a(!1),pinId:l,signal:o})]})}let k=function({anchor:e,onDismiss:l,pinId:n,signals:a}){let i=(0,y.ZP)(),[r,o]=(0,t.useState)(0),d=(0,_.Z)(),{showOneToast:c}=(0,m.F9)();if(!d.isEmployee)return null;let u=a.map(({signalMessage:e})=>({href:"#",text:e??""})),{backgroundColor:g,iconUrl:f,signalId:b,signalMessage:v}=a[r],k=({activeTabIndex:e})=>{o(e)};return(0,h.jsx)(s.mh,{children:(0,h.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:l,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(s.xu,{padding:4,width:"100%",children:[a.length>1&&(0,h.jsx)(s.xu,{marginBottom:4,overflow:"scrollX",padding:1,children:(0,h.jsx)(s.mQ,{activeTabIndex:r,onChange:({event:e,activeTabIndex:l,dangerouslyDisableOnNavigation:n})=>{e.preventDefault(),n(),k({activeTabIndex:l})},tabs:u})}),(0,h.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(s.X6,{size:"400",children:i._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(s.xu,{paddingY:3,children:(0,h.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,h.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,h.jsx)(s.Ee,{alt:i._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,h.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:g??""}},height:40,width:40})}),(0,h.jsx)(s.xv,{size:"200",children:v})]})}),(0,h.jsx)(s.xu,{marginBottom:3,children:(0,h.jsx)(s.xv,{size:"200",children:i._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,p.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:b,user:d.id}}),l(),c(({hideToast:e})=>(0,h.jsx)(x,{onHide:e}))},size:"md",text:i._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(s.zx,{color:"gray",fullWidth:!0,onClick:l,size:"md",text:i._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})},P=void 0!==a?a:a=n(705533);function S({signals:e,pinId:l}){let{backgroundColor:n,iconUrl:a,signalMessage:i}=e[0],[o,_]=(0,t.useState)(!1),g=(0,t.useRef)();return(0,h.jsxs)(t.Fragment,{children:[(0,h.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(d.Z,{children:(0,h.jsx)(u.q,{children:({hovered:e,onMouseEnter:l,onMouseLeave:t})=>(0,h.jsx)(s.iP,{onMouseEnter:l,onMouseLeave:t,onTap:()=>_(e=>!e),rounding:"pill",children:(0,h.jsxs)(s.xu,{ref:g,alignItems:"center",color:e?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,rounding:"circle",width:24,children:(0,h.jsx)(s.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(s.Ee,{alt:"",color:n??"",naturalHeight:1,naturalWidth:1,src:a??""})})}),(0,h.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:i})]})})})})})})}),o&&g&&g.current&&(0,h.jsx)(k,{anchor:g.current,onDismiss:()=>_(!1),pinId:l,signals:e})]})}function j({pinKey:e}){let l=(0,o.Z)(P,e),n=(0,_.Z)(),{search:a}=(0,i.TH)(),s=(0,t.useMemo)(()=>new URLSearchParams(a),[a]);if(!n.isEmployee)return null;let{entityId:r,debAds:d,debContentQuality:c,debInclusiveProduct:u,debShopping:g,debTrustAndSafety:p}=l;if(d)return(0,h.jsx)(S,{pinId:r,signals:d});if(c)return(0,h.jsx)(S,{pinId:r,signals:c});if(u){if("skin_tone"===s.get("type")){let e=u.filter(e=>"visual_signals_hair_pattern_v1"!==e.signalId);return(0,h.jsx)(v,{pinId:r,signals:e})}{let e=u.filter(e=>"visual_body_analyses_v2_0"!==e.signalId);return(0,h.jsx)(v,{pinId:r,signals:e})}}return g?(0,h.jsx)(S,{pinId:r,signals:g}):p?(0,h.jsx)(S,{pinId:r,signals:p}):null}},875515:(e,l,n)=>{n.d(l,{ZP:()=>k});var a,t=n(667294),i=n(702664);n(167912);var s=n(883119),r=n(214877),o=n(207012),d=n(140017),c=n(510972),u=n(899394),_=n(223785),h=n(259239),g=n(409403),p=n(785893);let y={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:_.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},m=["followed","related","search"],f=["pfy","pfyBoard"],x=void 0!==a?a:a=n(642965),b=e=>({board_id:e?.boardId??void 0,interest_id:e?.interestId??void 0,interest_list:e?.interestList??void 0,complaint_reason:e?.complaintReason??void 0,feedback_type:e?.feedbackType??void 0,pin_id:e?.pinId??void 0,pin_type:e?.pinType??void 0,pin:e?.pin??void 0,promoted:e?.promoted??void 0,recommendation_reason_id:e?.recommendationReasonId??void 0,undo:e?.undo??void 0,user_id:e?.userId??void 0,query:e?.query??void 0,news_id:e?.newsId??void 0,through_id:e?.throughId??void 0,through_properties:e?.throughProperties?(e.throughProperties||[]).reduce((e,l)=>{let{key:n,data:a}=l??{};return n&&(e[n]=a),e},{}):void 0,client_tracking_params:e?.clientTrackingParams??void 0,is_third_party_ad:e?.isThirdPartyAd??void 0}),v=(0,t.forwardRef)(({feedbackType:e,pinKey:l,hideContents:n=!1},a)=>{let v;let{logContextEvent:k}=(0,r.v)(),P=(0,d.ZP)(),[S,j]=(0,t.useState)(!1),[A,w]=(0,t.useState)(!1),I=(0,i.useDispatch)(),F=(0,o.Z)(x,l);(0,t.useEffect)(()=>j(!0),[]),(0,t.useEffect)(()=>{a?.current?.focus()},[a,S]);let z=()=>w(!0),{feedbackText:D,imageSpec_236x:T,showFeedbackOverlay:E}=F,C=T?.url,{subTitle:K,title:R,unfollow:Z,undoCallbackProps:B}=D??{},L=!m.includes(e),O=f.includes(e);if(B){let{action:e,actionOptions:l,viewType:n,viewParameter:a}=B;v=(0,u.EF)(b(l),e,n,a,()=>I((0,g.I1)({id:F.entityId,nodeId:F.__id})),k)}return(0,p.jsxs)(s.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:_.Oc}},"data-test-id":"obscured-overlay",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(0,p.jsxs)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderRadius:_.Oc}},left:!0,margin:-4,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[C&&(0,p.jsx)(h.Z,{additionalStyles:{...y.background.base,...S?y.background.blurred:{},backgroundImage:`url("${C}")`}}),(0,p.jsx)(h.Z,{additionalStyles:{...y.backdrop.base,...y.backdrop.blurred}})]}),(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...y.feedbackOverlayContainer.base,...!E&&S?y.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!n&&(0,p.jsx)(s.xu,{height:"100%",children:(0,p.jsxs)(s.xu,{"data-test-id":"PinFeedbackConfirmation",direction:"column",display:"flex",height:"100%",maxWidth:216,children:[(0,p.jsx)(s.xu,{ref:R?a:null,marginBottom:2,tabIndex:0,children:(0,p.jsx)(s.X6,{color:"light",size:"400",children:R})}),(0,p.jsx)(s.xu,{ref:K&&!R?a:null,display:"flex",marginBottom:1,tabIndex:0,children:(0,p.jsx)(s.xv,{color:"light",overflow:"normal",children:K})}),(0,p.jsxs)(t.Fragment,{children:[v&&"Reported"!==R&&(0,p.jsx)(s.xu,{"data-test-id":"undo-action-btn",children:(0,p.jsx)(s.iP,{onTap:v,children:(0,p.jsx)(s.xv,{color:"inverse",overflow:"normal",weight:"bold",children:P._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,p.jsxs)(s.xu,{marginTop:"auto",children:[!v&&!A&&Z&&!O&&(0,p.jsx)(s.zx,{color:"white",fullWidth:!0,onClick:()=>(0,c.t)(Z.action,b(Z.actionOptions),z,k),text:P._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),L&&(0,p.jsx)(s.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:()=>{k({event_type:101,view_type:1,view_parameter:92,element:11347})},text:P._('Tune your feed.ts', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}),k=v},740707:(e,l,n)=>{n.d(l,{Z:()=>r}),n(422578);var a,t=n(207012),i=n(899394);let s=void 0!==a?a:a=n(494262);function r({pinKey:e,feedbackType:l,viewParameter:n}){let a=(0,t.Z)(s,e);return function({feedbackType:e,viewParameter:l,boardFollowedByMe:n,hasPromoter:a,isDownstreamPromotion:t,pinnerFollowedByMe:s,hasRecommendationReason:r,recommendationReasonHasBoard:o,recommendationReasonReason:d}){return(0,i.hP)({boardFollowedByMe:n,feedbackType:e,promotion:a?{isDownstreamPromotion:t}:void 0,pinnerFollowedByMe:s,recommendationReason:r?{hasBoard:o,reason:d}:void 0,viewParameter:l})}({feedbackType:l,viewParameter:n,boardFollowedByMe:!!a?.board?.followedByMe,hasPromoter:!!a?.promoter,isDownstreamPromotion:!!a?.isDownstreamPromotion,pinnerFollowedByMe:!!a?.pinner?.explicitlyFollowedByMe,hasRecommendationReason:!!a?.recommendationReason,recommendationReasonReason:a?.recommendationReason?.reason??void 0,recommendationReasonHasBoard:!!a?.recommendationReason?.board})}},243783:(e,l,n)=>{function a(e){let l=e.split("/");return[l[2],l[1]]}function t(e,l){return!e||!e.some(e=>e.pin_type===l)}n.d(l,{E:()=>t,J:()=>a})},519925:(e,l,n)=>{n.d(l,{Z:()=>d,j:()=>o});var a=n(883119),t=n(140017),i=n(339001),s=n(340523),r=n(785893);let o=[0,2,3];function d({hasAffiliateProducts:e,href:l,isPromoted:n,onNavigateSponsorClick:d,sponsorName:c,sponsorUsername:u,sponsorshipStatus:_,textWeight:h="bold"}){let g;let p=(0,t.ZP)(),y=(0,s.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,m=(0,s.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,f=l||(u?`/${u}/`:null),x=f&&c?(0,r.jsx)(a.rU,{dataTestId:"sponsorship-text-link",href:f,onClick:d,children:(0,r.jsx)(a.xv,{size:"200",weight:h,children:c})},c):void 0;return n?g=(0,i.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:x}):_||0===_?c&&!o.includes(_)?g=(0,i.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:x}):m&&2===_||(g=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(g=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,r.jsxs)(a.xv,{inline:!0,lineClamp:2,size:"200",children:[y&&!n&&"Ad â€¢ "||"",g]})}},67765:(e,l,n)=>{n.d(l,{ZP:()=>o,tY:()=>u,Xt:()=>d,$7:()=>_,Yh:()=>c});var a=n(702664),t=n(340523),i=n(995917),s=n(149722);let r={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function o(e){let l=(0,s.Z)(),n=l.isAuth&&l.id===e,{checkExperiment:a}=(0,t.F)(),r=(0,i.Z)(!l.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}}),o=n&&l.has_quicksave_board||!!(l.isAuth&&(r??{}).data?.has_quicksave_board)||(n||l.isAuth)&&!l.has_quicksave_board&&!(r??{}).data?.has_quicksave_board&&a("profile_saves_for_all").anyEnabled;return{showEnabledSaveBehavior:o}}function d(e){let l=(0,s.Z)(),n=l.isAuth&&l.id===e,a=(0,i.Z)(!l.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}}),t=n&&l.has_quicksave_board||!!(l.isAuth&&(a??{}).data?.has_quicksave_board);return{boardlessPinsEnabled:t}}function c(e){let l=(0,a.useDispatch)(),n=(0,s.Z)(),t=n.isAuth&&!!n.boardCount&&n.boardCount<5,r=t&&e,o=(0,i.Z)(r&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:n.isAuth&&n.id}}:null);return n.isAuth&&void 0===n.save_behavior&&o&&o.data?.id&&l({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:o.data.save_behavior}}),{showEnabledSaveBehavior:r}}function u(e){let l;let n=(0,s.Z)();return e&&(n.save_behavior===r.SAVE_TO_PROFILE?l={type:"classic"}:n.save_behavior===r.SHOW_BOARD_PICKER&&(l={type:"inline"})),{saveBehaviorType:l}}function _(){let e=(0,s.Z)();return e.isAuth&&(e?.secretBoardCount??0)>0}},409403:(e,l,n)=>{function a(e,l){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:l}}}function t(e,l){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:l}}}function i(e){return{type:"PIN_SAVE",payload:e}}function s(e,l){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:l}}}function r(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function o({id:e,nodeId:l}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:l}}}function d({id:e,text:l,nodeId:n}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:l,nodeId:n}}}function c({id:e,nodeId:l}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:l}}}function u({id:e,nodeId:l}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:l}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(l,{Gb:()=>s,I1:()=>o,Ib:()=>c,Ur:()=>i,Vw:()=>r,b9:()=>_,i0:()=>u,mO:()=>t,q1:()=>d,yR:()=>a,yj:()=>h})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63156-b683fb5d37f83300.mjs.map
